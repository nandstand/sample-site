<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Develop and test your first feature on the HPC cluster | Portfolio / Christian Fuller</title>
<meta name=description content="Learn how to navigate the project codebase and submit test jobs from your sandbox environment"><meta property="og:url" content="https://portfolio.christianf.io/technical-writing/get-started/hpc-tutorial/"><meta property="og:site_name" content="Portfolio / Christian Fuller"><meta property="og:title" content="Develop and test your first feature on the HPC cluster"><meta property="og:description" content="Learn how to navigate the project codebase and submit test jobs from your sandbox environment"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="technical-writing"><meta property="article:modified_time" content="2026-02-04T15:04:06-06:00"><meta itemprop=name content="Develop and test your first feature on the HPC cluster"><meta itemprop=description content="Learn how to navigate the project codebase and submit test jobs from your sandbox environment"><meta itemprop=dateModified content="2026-02-04T15:04:06-06:00"><meta itemprop=wordCount content="1263"><meta name=twitter:card content="summary"><meta name=twitter:title content="Develop and test your first feature on the HPC cluster"><meta name=twitter:description content="Learn how to navigate the project codebase and submit test jobs from your sandbox environment"><link rel=preload href=/scss/main.min.6a737a77563075909c0756531595e94af7e98b2e5aa02fed6b99b2e1f55f7697.css as=style integrity="sha256-anN6d1YwdZCcB1ZTFZXpSvfpiy5aoC/ta5my4fVfdpc=" crossorigin=anonymous><link href=/scss/main.min.6a737a77563075909c0756531595e94af7e98b2e5aa02fed6b99b2e1f55f7697.css rel=stylesheet integrity="sha256-anN6d1YwdZCcB1ZTFZXpSvfpiy5aoC/ta5my4fVfdpc=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>Portfolio / Christian Fuller</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://github.com/nandstand/ target=_blank rel=noopener><span>GitHub</span></a></li><li class=nav-item><a class=nav-link href=https://christianf.io/ target=_blank rel=noopener><span>Personal Site</span></a></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m--li><a href=/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-><span>Welcome</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-operations-li><a href=/operations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-operations><span>Operations</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-operationshpc-operations-shell-scripting-li><a href=/operations/hpc-operations-shell-scripting/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-operationshpc-operations-shell-scripting><span>HPC operations and shell scripting</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-operationsautomated-testing-deployment-li><a href=/operations/automated-testing-deployment/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-operationsautomated-testing-deployment><span>Automated testing and deployment</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-technical-writing-li><a href=/technical-writing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-technical-writing><span>Technical writing</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-technical-writingget-started-li><a href=/technical-writing/get-started/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-technical-writingget-started><span>Guides and tutorials</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-technical-writingget-startedquickstart-li><a href=/technical-writing/get-started/quickstart/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-technical-writingget-startedquickstart><span>Quickstart</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-technical-writingget-startedhpc-tutorial-li><a href=/technical-writing/get-started/hpc-tutorial/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-technical-writingget-startedhpc-tutorial><span class=td-sidebar-nav-active-item>Develop and test your first feature on the HPC cluster</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-technical-writingreference-li><a href=/technical-writing/reference/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-technical-writingreference><span>Reference documentation</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-technical-writingreferenceenvironment-variables-li><a href=/technical-writing/reference/environment-variables/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-technical-writingreferenceenvironment-variables><span>Environment variables</span></a></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/nandstand/sample-site/tree/main/content/technical-writing/get-started/hpc-tutorial.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/nandstand/sample-site/edit/main/content/technical-writing/get-started/hpc-tutorial.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/nandstand/sample-site/new/main/content/technical-writing/get-started?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/nandstand/sample-site/issues/new?title=Develop%20and%20test%20your%20first%20feature%20on%20the%20HPC%20cluster" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#before-you-begin>Before you begin</a><ul><li><a href=#what-youll-need>What you&rsquo;ll need</a></li><li><a href=#what-youll-learn>What you&rsquo;ll learn</a></li></ul></li><li><a href=#1-set-up-your-environment>1. Set up your environment</a></li><li><a href=#2-manage-project-dependencies-using-pip>2. Manage project dependencies using pip</a></li><li><a href=#3-add-the-logging-feature>3. Add the logging feature</a></li><li><a href=#4-submit-a-test-job-to-the-slurm-queue>4. Submit a test job to the Slurm queue</a></li><li><a href=#conclusion>Conclusion</a><ul><li><a href=#summary>Summary</a></li><li><a href=#learn-more>Learn more</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/technical-writing/>Technical writing</a></li><li class=breadcrumb-item><a href=/technical-writing/get-started/>Guides and tutorials</a></li><li class="breadcrumb-item active" aria-current=page>Develop and test your first feature on the HPC cluster</li></ol></nav><div class=td-content><h1>Develop and test your first feature on the HPC cluster</h1><div class=lead>Learn how to navigate the project codebase and submit test jobs from your sandbox environment</div><header class=article-meta></header><div class="alert alert-success" role=alert><p>This tutorial covers HPC-specific topics and tools, like working with a batch scheduler (Slurm).
It&rsquo;s designed to help the reader build a general understanding of how software runs on HPC architecture, and teach best practices for feature development, including adding new project dependencies.</p><p>This sample is partly inspired by work that I did in a previous role to help onboard new team members to a project, where I taught Git workflows and helped developers set up their environments.</p></div><h2 id=before-you-begin>Before you begin</h2><p>In this tutorial, you&rsquo;ll add a simple logging feature to the CAQRN system, and install a new dependency to the project.
You&rsquo;ll test the feature by submitting a job to be run on the HPC cluster&rsquo;s compute nodes from your sandbox environment.</p><h3 id=what-youll-need>What you&rsquo;ll need</h3><ul><li>A sandbox environment on the Zephyr cluster (see the <a href=/technical-writing/get-started/quickstart/>Quickstart</a>)</li><li>Familiarity with Git</li><li>Familiarity with Python virtual environments</li></ul><h3 id=what-youll-learn>What you&rsquo;ll learn</h3><ul><li>How your sandbox environment works</li><li>How dependencies for the project are managed</li><li>How jobs are submitted from your sandbox to the cluster&rsquo;s compute nodes</li></ul><h2 id=1-set-up-your-environment>1. Set up your environment</h2><p>To add the logging feature, you need to modify an existing file in the codebase.</p><ol><li>Access a login node on the cluster, replacing the username below with your own:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh alice@zephyr.login.coast-state.edu
</span></span></code></pre></div><p>Login nodes are shared computing resources where users prepare and submit jobs to the cluster&rsquo;s compute nodes.
Avoid running anything resource intensive directly on login nodes, as they can slow down the system for other users.</p><ol start=2><li>Navigate to the code repo in your sandbox:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> ~/caqrn-sandbox/code/caqrn-processing
</span></span></code></pre></div><ol start=3><li>Check out the <code>onboarding</code> branch from the remote repository:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout -b onboarding origin/onboarding
</span></span></code></pre></div><ol start=4><li>Create and switch to your own feature branch:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout -b feature/add-environment-logging
</span></span></code></pre></div><p>It&rsquo;s a good idea to isolate changes to the project&rsquo;s codebase to feature branches using names that describe the changes, like <code>feature/update-aqi-algorithm</code> or <code>bugfix/fix-filename-regex</code>.
In normal development, you&rsquo;ll create feature branches from the <code>develop</code> branch and submit merge requests through the GitLab web interface.</p><ol start=5><li>Source the sandbox environment script:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>source</span> scripts/sandbox_env.sh
</span></span></code></pre></div><p>Notice that your command prompt now shows the name of your activated Python virtual environment.
The sandbox environment script activates your Python virtual environment, and sets environment variables used during job submission and execution.</p><p>The following flowchart shows how Python virtual environments are activated on both the login and compute nodes.</p><pre class=mermaid>flowchart LR
    subgraph LN [&#34;Login Node&#34;]
        direction TB
        A1[&#34;Source Environment Script&lt;br/&gt;Set Environment Variables&#34;] --&gt; A2
        A2[&#34;Activate Python venv&lt;br/&gt;(current user environment)&#34;] --&gt; A3[&#34;Submit Slurm Job&lt;br/&gt;Export Environment Variables&lt;br/&gt;(via sbatch argument)&#34;]
    end
    
    subgraph CN [&#34;Compute Node(s)&#34;]
        direction TB
        B1[&#34;Slurm Job Script Executes&lt;br/&gt;(processing_job.sh)&#34;] --&gt; B2[&#34;Use $CAQRN_ENV to Determine Job Context&#34;]
        B2 --&gt; B3[&#34;Activate Python venv&lt;br/&gt;(job execution environment)&#34;] 
    end
    
    LN --&gt; CN</pre><ol start=6><li>Verify that the script set up your environment by checking a few key variables:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#34;Python virtual environment: </span><span style=color:#000>$VIRTUAL_ENV</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#34;Code root: </span><span style=color:#000>$CAQRN_CODE_ROOT</span><span style=color:#4e9a06>&#34;</span>  
</span></span><span style=display:flex><span><span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#34;Data root: </span><span style=color:#000>$CAQRN_DATA_ROOT</span><span style=color:#4e9a06>&#34;</span>
</span></span></code></pre></div><p>You should see output similar to:</p><pre tabindex=0><code>Python virtual environment: /home/alice/caqrn-sandbox/venv
Code root: /home/alice/caqrn-sandbox/code
Data root: /home/alice/caqrn-sandbox/data
</code></pre><h2 id=2-manage-project-dependencies-using-pip>2. Manage project dependencies using pip</h2><p>The logging feature you&rsquo;re adding will print environment information about your test job.
In this section, you&rsquo;ll install the <code>tabulate</code> library to create formatted tables in the job&rsquo;s Slurm logs.</p><ol><li>Install the <code>tabulate</code> package to your Python virtual environment using pip:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip install tabulate
</span></span></code></pre></div><ol start=2><li>Test that the installation worked by importing the library:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python -c <span style=color:#4e9a06>&#34;from tabulate import tabulate; print(&#39;Success!&#39;)&#34;</span>
</span></span></code></pre></div><ol start=3><li>Update the project&rsquo;s <code>requirements.txt</code> file to include the new dependency.</li></ol><p>Make sure you&rsquo;re in the right directory:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> ~/caqrn-sandbox/code/caqrn-processing
</span></span></code></pre></div><p>Then run the following command:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip freeze &gt; requirements.txt
</span></span></code></pre></div><ol start=4><li>Verify that <code>tabulate</code> now appears in the requirements file:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>grep tabulate requirements.txt
</span></span></code></pre></div><p>You should see a line of output showing the package and its version number:</p><pre tabindex=0><code>tabulate==0.9.0
</code></pre><p>The <code>requirements.txt</code> file is under source control.
During normal development, keep any changes made to the file as a separate commit.</p><h2 id=3-add-the-logging-feature>3. Add the logging feature</h2><p>In this section, you&rsquo;ll implement the logging feature by adding code to an existing module.</p><ol><li>Navigate to the logging utilities module:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> ~/caqrn-sandbox/code/caqrn-processing/src
</span></span></code></pre></div><ol start=2><li>Open the <code>utils.py</code> file in your preferred editor:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vim utils.py
</span></span></code></pre></div><ol start=3><li>Add the import statement for <code>tabulate</code> to the top of the file, after the existing imports:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>os</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>tabulate</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>tabulate</span>
</span></span></code></pre></div><ol start=4><li>Find the <code>print_environment_info()</code> function stub in the file.
Replace the <code>pass</code> statement with the following code:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>variables</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;Virtual environment&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>os</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>environ</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;VIRTUAL_ENV&#39;</span><span style=color:#000;font-weight:700>)],</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;Code root path&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>os</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>environ</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;CAQRN_CODE_ROOT&#39;</span><span style=color:#000;font-weight:700>)],</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;Data root path&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>os</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>environ</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;CAQRN_DATA_ROOT&#39;</span><span style=color:#000;font-weight:700>)],</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;Input data path&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>os</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>environ</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;CAQRN_INCOMING_DATA&#39;</span><span style=color:#000;font-weight:700>)],</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tabulate</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>variables</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>headers</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;Variable&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Value&#34;</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000>tablefmt</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;grid&#34;</span><span style=color:#000;font-weight:700>))</span>
</span></span></code></pre></div><p>This function will print a table containing environment information to STDOUT, which will be captured in the Slurm log.</p><h2 id=4-submit-a-test-job-to-the-slurm-queue>4. Submit a test job to the Slurm queue</h2><p>Now you&rsquo;ll test your feature by submitting a job to the compute cluster.
The test job will use your sandbox environment and code, and you&rsquo;ll see the results in your sandbox data directory.</p><ol><li>Submit the job using the daily processing job submission script:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> ~/caqrn-sandbox/code/caqrn-processing/scripts
</span></span><span style=display:flex><span>./submit_daily_job.sh
</span></span></code></pre></div><p>The output should show that the batch job was submitted:</p><pre tabindex=0><code>Submitted batch job 12345
</code></pre><p>This script uses the <code>sbatch</code> command to submit your job to the Slurm queue, and uses environment variables to determine the context of the job.
It explicitly exports your environment to be available to the process running on the compute nodes.</p><ol start=2><li>Check your job&rsquo;s status in the queue. Replace the username below with your own to get a list of jobs submitted under your username from Slurm.</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>squeue -u alice
</span></span></code></pre></div><p>The output shows your job details.
Notice that settings such as the compute partition and number of compute nodes for the job are set by the job submission script:</p><pre tabindex=0><code>JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
12345       dev alice_t     alice  R       2:34      4 node[01-04]
</code></pre><p>In general, test jobs should be submitted to the cluster&rsquo;s development partition (<code>dev</code>), which provides lower-cost, scaled-back compute resources appropriate for testing.</p><p>For performance testing or jobs that need full compute resources, submit to the <code>standard</code> partition used by production jobs.</p><ol start=3><li>Navigate to your Slurm log directory:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> ~/caqrn-sandbox/logs/slurm
</span></span></code></pre></div><ol start=4><li>Find the log file for your test job, which includes your username and the job ID:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls alice_test_daily_*
</span></span></code></pre></div><p>You should see a file like <code>alice_test_daily_20250101_12345.out</code>.</p><ol start=5><li>Monitor job progress by following the log file:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>tail -f alice_test_daily_20250101_12345.out
</span></span></code></pre></div><p>The daily processing job can take up to 30 minutes to complete.
This is a good time for a coffee break!</p><p>Your logging function will be called toward the end of execution.</p><ol start=6><li>When the job completes, you should see your environment table in the log output:</li></ol><pre tabindex=0><code>+---------------------+------------------------------------------+
| Variable            | Value                                    |
+=====================+==========================================+
| Virtual environment | /home/alice/caqrn-sandbox/venv          |
| Code root path      | /home/alice/caqrn-sandbox/code          |
| Data root path      | /home/alice/caqrn-sandbox/data          |
| Input data path     | /projects/caqrn/shared/data/incoming     |
+---------------------+------------------------------------------+
</code></pre><ol start=7><li>Press <code>Ctrl+C</code> to stop following the log, then check your data directory for the job&rsquo;s output files:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> ~/caqrn-sandbox/data/products
</span></span><span style=display:flex><span>ls -l
</span></span></code></pre></div><p>A date-based directory structure is created by the processing job.
Navigate into the output directory and list the generated files, replacing the date below with today&rsquo;s date:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> 2025/01/01
</span></span><span style=display:flex><span>ls -l
</span></span></code></pre></div><p>You should see the two daily files, which were created using the project&rsquo;s shared sensor data at <code>/projects/caqrn/shared/data/incoming</code>:</p><pre tabindex=0><code>daily_aqi_summary_20250101.csv
hourly_aqi_20250101.csv`
</code></pre><h2 id=conclusion>Conclusion</h2><p>This tutorial introduced you to the basic workflow for developing and testing features on the HPC architecture.
In normal development, you&rsquo;ll create feature branches from the <code>develop</code> branch, test locally using unit tests, and submit test jobs when needed using what you learned here.</p><h3 id=summary>Summary</h3><ul><li>Source <code>sandbox_env.sh</code> to set up your environment and activate your Python virtual environment.</li><li>Use <code>pip freeze</code> to add a new Python package to the project&rsquo;s <code>requirements.txt</code>.</li><li>Use <code>submit_daily_job.sh</code> to submit test jobs that run with your sandbox environment context.</li></ul><h3 id=learn-more>Learn more</h3><ul><li>See <a href=/technical-writing/reference/environment-variables>Environment variables</a> for more information about your sandbox and the production environment.</li></ul><div class=td-page-meta__lastmod>Last modified February 4, 2026: <a data-proofer-ignore href=https://github.com/nandstand/sample-site/commit/0e5d0d71bd13e5498b35fd2738457a44d32bbf98>Remove period from page description (0e5d0d7)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2026
<span class=td-footer__authors>Christian Fuller</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span></div></div></div></footer></div><script type=module async>
  import mermaid from "https:\/\/cdn.jsdelivr.net\/npm\/mermaid@latest\/dist\/mermaid.esm.min.mjs";

  (function ($) {
    if ($('.mermaid').length == 0) {
      mermaid.initialize({ startOnLoad: false });
      return;
    }

    var params = {"theme":"neutral"};

    
    
    var norm = function (defaultConfig, params) {
      var result = {};
      for (const key in defaultConfig) {
        const keyLower = key.toLowerCase();
        if (defaultConfig.hasOwnProperty(key) && params.hasOwnProperty(keyLower)) {
          if (typeof defaultConfig[key] === "object") {
            result[key] = norm(defaultConfig[key], params[keyLower]);
          } else {
            result[key] = params[keyLower];
          }
        }
      }
      return result;
    };

    var settings = norm(mermaid.mermaidAPI.defaultConfig, params);
    settings.startOnLoad = true;
    if ($('html[data-bs-theme="dark"]').length) {
      settings.theme = 'dark';
    }
    mermaid.initialize(settings);

    
    const lightDarkModeThemeChangeHandler = function (mutationsList, observer) {
      for (const mutation of mutationsList) {
        if (mutation.type === 'attributes' && mutation.attributeName === 'data-bs-theme') {
          
          
          
          location.reload();
        }
      }
    };

    const observer = new MutationObserver(lightDarkModeThemeChangeHandler);
    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ['data-bs-theme']
    });
    

  })(jQuery);
</script><script src=/js/main.min.d14871984b84a5b0a7b46cf7fc6e46e58f0b7430954325e481579adfcfbd73a6.js integrity="sha256-0UhxmEuEpbCntGz3/G5G5Y8LdDCVQyXkgVea38+9c6Y=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>